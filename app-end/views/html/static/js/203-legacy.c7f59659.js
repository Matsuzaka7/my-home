(self["webpackChunkMatsuzaka"]=self["webpackChunkMatsuzaka"]||[]).push([[203],{75203:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting"},[a("div",{staticClass:"settingItem"},[a("h2",[e._v("全局主题")]),a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"跟随系统"},on:{change:e.changeSelect},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("div",{staticClass:"settingItem",staticStyle:{"align-items":"flex-start"}},[a("h2",[e._v("接口测试")]),a("div",{staticClass:"settingItemTest"},[a("div",{staticClass:"card"},[a("div",{staticClass:"settingItemTestTop"},[a("el-select",{staticClass:"settingItemTestSelect",attrs:{placeholder:"类型(GET)"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.ApiType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-checkbox",{model:{value:e.SeverChecked,callback:function(t){e.SeverChecked=t},expression:"SeverChecked"}},[e._v("代理转发")]),a("el-checkbox",{model:{value:e.formDataChecked,callback:function(t){e.formDataChecked=t},expression:"formDataChecked"}},[e._v("formData")])],1)],1),a("el-autocomplete",{staticClass:"inline-input",attrs:{clearable:"","fetch-suggestions":e.querySearch,placeholder:"URL"},on:{change:e.ChangeSelect},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,n=t.$index;return[a("div",{staticClass:"name"},[e._v(" "+e._s(r.value)+" "),a("i",{staticClass:"el-icon-delete icon-delete",on:{click:function(t){return t.stopPropagation(),e.deleteList.apply(null,arguments)}}},[e._v(e._s(n))])])]}}]),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.ajaxData,expression:"ajaxData"}],staticClass:"data",attrs:{contenteditable:"true",placeholder:'\n          携带参数\n          格式:\n          1. 基本数据: "hello word"\n          \n          2. 引用数据:\n              {\n                "user": "admin",\n                "password": 123456\n              }'},domProps:{value:e.ajaxData},on:{input:function(t){t.target.composing||(e.ajaxData=t.target.value)}}}),a("button",{on:{click:e.subAjax}},[e._v("发送请求")])],1)])]),a("div",{staticClass:"settingItem"},[a("h2",[e._v("错误日志")]),a("div",{staticClass:"card",staticStyle:{"max-height":"200px",overflow:"scroll","padding-top":"10px"}},e._l(e.error,(function(t){return a("div",{staticClass:"errorItem"},[a("span",[e._v(e._s(e.timeFormat(t.time))+"：")]),a("p",[e._v(e._s(t.err))])])})),0)]),a("el-dialog",{staticClass:"dialog",attrs:{title:"结果",visible:e.centerDialogVisible,width:"85%","before-close":e.handleClose,"modal-append-to-body":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.toast,expression:"toast"}],staticClass:"data",attrs:{contenteditable:"true"},domProps:{value:e.toast},on:{input:function(t){t.target.composing||(e.toast=t.target.value)}}})])],1)},n=[],s=a(16198),i=(a(35666),a(38862),a(57327),a(41539),a(34553),a(40561),a(9431)),o=a(9669),l=a.n(o),c={name:"Set",data:function(){return{centerDialogVisible:!1,restaurants:JSON.parse(localStorage.getItem("UrlList"))||[{value:"http://matsuzaka.top:404/login"}],value:localStorage.getItem("Global-theme"),type:"",inputVal:"",SeverChecked:!1,formDataChecked:!1,ajaxData:"",options:[{value:"跟随系统",label:"跟随系统"},{value:"深色",label:"深色"},{value:"浅色",label:"浅色"}],ApiType:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}],toast:[],error:JSON.parse(localStorage.getItem("error"))||[]}},created:function(){this.timeFormat=i.i$},methods:{changeSelect:function(e){localStorage.setItem("Global-theme",e),this.$bus.$emit("setGlobalTheme",e)},subAjax:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){var a,r,n,s,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={url:e.inputVal,method:e.type||"GET"};try{for(s in r=new FormData,n=JSON.parse(e.ajaxData||"{}"),n)r.append(s,n[s]);"GET"==e.type||"DELETE"==e.type||""==e.type?e.formDataChecked&&e.SeverChecked?(a.params=e.ajaxData&&JSON.parse(e.ajaxData),a.fromData=!0):e.SeverChecked&&!e.formDataChecked?a.params=e.ajaxData&&JSON.parse(e.ajaxData):e.SeverChecked||e.formDataChecked?!e.SeverChecked&&e.formDataChecked&&(a.params=r):a.params=e.ajaxData&&JSON.parse(e.ajaxData):"POST"!=e.type&&"PUT"!=e.type||(e.formDataChecked&&e.SeverChecked?(a.data=e.ajaxData&&JSON.parse(e.ajaxData),a.fromData=!0):e.SeverChecked&&!e.formDataChecked?a.data=e.ajaxData&&JSON.parse(e.ajaxData):e.SeverChecked||e.formDataChecked?!e.SeverChecked&&e.formDataChecked&&(a.data=r):a.data=e.ajaxData&&JSON.parse(e.ajaxData))}catch(d){i=JSON.parse(localStorage.getItem("error"))||[],i.unshift({time:Date.now(),err:d.message}),e.error.unshift({time:Date.now(),err:d.message}),localStorage.setItem("error",JSON.stringify(i)),e.$message.error("参数格式有误")}if(t.prev=2,!e.SeverChecked){t.next=10;break}return t.next=6,e.$API.Setting.apiTest({options:a});case 6:o=t.sent,200===o.status?(e.toast=JSON.stringify(o.data,null,4),e.centerDialogVisible=!0):e.$message.error("请检查接口或接口类型"),t.next=14;break;case 10:return t.next=12,l()(a);case 12:c=t.sent,200===c.status?(e.toast=JSON.stringify(c.data,null,4),e.centerDialogVisible=!0):e.$message.error("可能跨域或接口地址和接口类型错误");case 14:t.next=23;break;case 16:t.prev=16,t.t0=t["catch"](2),u=JSON.parse(localStorage.getItem("error"))||[],u.unshift({time:Date.now(),err:t.t0.message}),e.error.unshift({time:Date.now(),err:t.t0.message}),localStorage.setItem("error",JSON.stringify(u)),e.$message.error("可能跨域或请求超时或请求地址不存在");case 23:case"end":return t.stop()}}),t,null,[[2,16]])})))()},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},querySearch:function(e,t){var a=this.restaurants,r=e?a.filter(this.createFilter(e)):a;t(r)},ChangeSelect:function(e){localStorage.getItem("UrlList")&&JSON.parse(localStorage.getItem("UrlList")).some((function(t){return t.value==e}))||(this.restaurants.push({value:e}),localStorage.setItem("UrlList",JSON.stringify(this.restaurants)))},deleteList:function(e){var t=this.restaurants.findIndex((function(t){return t.value===e.target.parentNode.innerText}));this.restaurants.splice(t,1),localStorage.setItem("UrlList",JSON.stringify(this.restaurants))},handleClose:function(e){this.centerDialogVisible=!1}}},u=c,d=a(1001),f=(0,d.Z)(u,r,n,!1,null,"eae06504",null),p=f.exports},42092:function(e,t,a){var r=a(49974),n=a(1702),s=a(68361),i=a(47908),o=a(26244),l=a(65417),c=n([].push),u=function(e){var t=1==e,a=2==e,n=3==e,u=4==e,d=6==e,f=7==e,p=5==e||d;return function(v,m,h,g){for(var S,x,D=i(v),C=s(D),k=r(m,h),y=o(C),b=0,I=g||l,w=t?I(v,y):a||f?I(v,0):void 0;y>b;b++)if((p||b in C)&&(S=C[b],x=k(S,b,D),e))if(t)w[b]=x;else if(x)switch(e){case 3:return!0;case 5:return S;case 6:return b;case 2:c(w,S)}else switch(e){case 4:return!1;case 7:c(w,S)}return d?-1:n||u?u:w}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},81194:function(e,t,a){var r=a(47293),n=a(5112),s=a(7392),i=n("species");e.exports=function(e){return s>=51||!r((function(){var t=[],a=t.constructor={};return a[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},77475:function(e,t,a){var r=a(17854),n=a(43157),s=a(4411),i=a(70111),o=a(5112),l=o("species"),c=r.Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,s(t)&&(t===c||n(t.prototype))?t=void 0:i(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?c:t}},65417:function(e,t,a){var r=a(77475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},86135:function(e,t,a){"use strict";var r=a(34948),n=a(3070),s=a(79114);e.exports=function(e,t,a){var i=r(t);i in e?n.f(e,i,s(0,a)):e[i]=a}},43157:function(e,t,a){var r=a(84326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},57327:function(e,t,a){"use strict";var r=a(82109),n=a(42092).filter,s=a(81194),i=s("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},34553:function(e,t,a){"use strict";var r=a(82109),n=a(42092).findIndex,s=a(51223),i="findIndex",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(i)},40561:function(e,t,a){"use strict";var r=a(82109),n=a(17854),s=a(51400),i=a(19303),o=a(26244),l=a(47908),c=a(65417),u=a(86135),d=a(81194),f=d("splice"),p=n.TypeError,v=Math.max,m=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,r,n,d,f,S,x=l(this),D=o(x),C=s(e,D),k=arguments.length;if(0===k?a=r=0:1===k?(a=0,r=D-C):(a=k-2,r=m(v(i(t),0),D-C)),D+a-r>h)throw p(g);for(n=c(x,r),d=0;d<r;d++)f=C+d,f in x&&u(n,d,x[f]);if(n.length=r,a<r){for(d=C;d<D-r;d++)f=d+r,S=d+a,f in x?x[S]=x[f]:delete x[S];for(d=D;d>D-r+a;d--)delete x[d-1]}else if(a>r)for(d=D-r;d>C;d--)f=d+r-1,S=d+a-1,f in x?x[S]=x[f]:delete x[S];for(d=0;d<a;d++)x[d+C]=arguments[d+2];return x.length=D-r+a,n}})},38862:function(e,t,a){var r=a(82109),n=a(17854),s=a(35005),i=a(22104),o=a(1702),l=a(47293),c=n.Array,u=s("JSON","stringify"),d=o(/./.exec),f=o("".charAt),p=o("".charCodeAt),v=o("".replace),m=o(1..toString),h=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,x=function(e,t,a){var r=f(a,t-1),n=f(a,t+1);return d(g,e)&&!d(S,n)||d(S,e)&&!d(g,r)?"\\u"+m(p(e,0),16):e},D=l((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:D},{stringify:function(e,t,a){for(var r=0,n=arguments.length,s=c(n);r<n;r++)s[r]=arguments[r];var o=i(u,null,s);return"string"==typeof o?v(o,h,x):o}})}}]);