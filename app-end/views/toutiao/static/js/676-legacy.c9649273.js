(self["webpackChunkheadline"]=self["webpackChunkheadline"]||[]).push([[676],{8682:function(t,n,r){"use strict";r.d(n,{Z:function(){return c}});var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"error-wrap"},[r("van-image",{staticClass:"img",attrs:{src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic.soutu123.cn%2Felement_origin_min_pic%2F17%2F02%2F28%2F8e959816807d2a8b3796c76270ace890.jpg%21%2Ffw%2F700%2Fquality%2F90%2Funsharp%2Ftrue%2Fcompress%2Ftrue&refer=http%3A%2F%2Fpic.soutu123.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1659079604&t=2842b0d4ce5043d9e3c96c369d0eb77f",fit:"contain"}})],1)},o=[],a={name:"NoData"},u=a,s=r(1001),i=(0,s.Z)(u,e,o,!1,null,"358f0f42",null),c=i.exports},9676:function(t,n,r){"use strict";r.r(n),r.d(n,{default:function(){return m}});var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("van-nav-bar",{attrs:{fixed:"","left-arrow":"",title:"我的关注"},on:{"click-left":function(n){return t.$router.back()}}}),t.isNoData?r("NoData"):r("van-cell-group",{staticClass:"container"},t._l(t.list,(function(n,e){return r("van-cell",{key:e,scopedSlots:t._u([{key:"title",fn:function(){return[r("van-image",{staticClass:"photo",attrs:{src:n.photo,fit:"cover",round:""}}),r("span",{staticClass:"name"},[t._v(t._s(n.name))])]},proxy:!0}],null,!0)},[[r("van-button",{staticClass:"follow-btn",attrs:{type:"info",size:"small",round:""},on:{click:function(r){return t.onFollow(n.id)}}},[t._t("default",(function(){return[t._v(" "+t._s("取消关注")+" ")]}))],2)]],2)})),1)],1)},o=[],a=r(2646),u=r(3561),s=r(2381),i=r(5155),c=r(8682),l={name:"userFollowings",components:{NoData:c.Z},data:function(){return{list:[],isNoData:null}},methods:{loadUserFollowings:function(){var t=this;return(0,s.Z)((0,a.Z)().mark((function n(){var r,e,o,s;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.$store.state.user){n.next=4;break}return t.$toast("您尚未登录!"),t.$router.push("/login"),n.abrupt("return");case 4:return t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),n.prev=5,n.next=8,(0,i.lQ)();case 8:e=n.sent,o=e.data,s=o.data.results,t.list=[],(r=t.list).push.apply(r,(0,u.Z)(s)),t.$toast("加载完成 !"),0===t.list.length?t.isNoData=!0:t.isNoData=!1,n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](5),t.$toast("发生未知错误 ! 请重试");case 20:case"end":return n.stop()}}),n,null,[[5,17]])})))()},onFollow:function(t){var n=this;return(0,s.Z)((0,a.Z)().mark((function r(){var e;return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),r.prev=1,r.next=4,(0,i.zM)(t);case 4:n.$toast("取消关注成功"),n.list=[],n.loadUserFollowings(),r.next=14;break;case 9:r.prev=9,r.t0=r["catch"](1),e="发生未知错误 ! 请稍后重试",r.t0.response&&400===r.t0.response.status?e="你不能关注你自己!":r.t0.response&&401===r.t0.response.status&&(e="您尚未登录!"),n.$toast(e);case 14:case"end":return r.stop()}}),r,null,[[1,9]])})))()}},created:function(){this.loadUserFollowings()},activated:function(){this.loadUserFollowings()}},f=l,p=r(1001),d=(0,p.Z)(f,e,o,!1,null,"0567f74c",null),m=d.exports},1038:function(t,n,r){var e=r(2109),o=r(8457),a=r(7072),u=!a((function(t){Array.from(t)}));e({target:"Array",stat:!0,forced:u},{from:o})},5155:function(t,n,r){"use strict";r.d(n,{Ci:function(){return s},Lj:function(){return f},Q6:function(){return a},R3:function(){return i},W9:function(){return p},X5:function(){return m},bG:function(){return u},dX:function(){return h},et:function(){return l},lQ:function(){return v},qi:function(){return d},x4:function(){return o},zM:function(){return c}});var e=r(8029),o=(r(4901),function(t){return(0,e.Z)({method:"POST",url:"/v1_0/authorizations",data:t})}),a=function(t){return(0,e.Z)({method:"GET",url:"/v1_0/sms/codes/".concat(t)})},u=function(){return(0,e.Z)({method:"GET",url:"/v1_0/user"})},s=function(){return(0,e.Z)({method:"GET",url:"/v1_0/user/channels"})},i=function(t){return(0,e.Z)({method:"POST",url:"/v1_0/user/followings",data:{target:t}})},c=function(t){return(0,e.Z)({method:"DELETE",url:"/v1_0/user/followings/".concat(t)})},l=function(){return(0,e.Z)({method:"GET",url:"/v1_0/user/profile"})},f=function(t){return(0,e.Z)({method:"PATCH",url:"/v1_0/user/profile",data:t})},p=function(t){return(0,e.Z)({method:"PATCH",url:"/v1_0/user/photo",data:t})},d=function(){return(0,e.Z)({method:"GET",url:"/v1_0/article/collections"})},m=function(){return(0,e.Z)({method:"GET",url:"/v1_0/user/histories",params:{page:1,per_page:200}})},h=function(){return(0,e.Z)({method:"GET",url:"/v1_0/user/followers",params:{page:1,per_page:200}})},v=function(){return(0,e.Z)({method:"GET",url:"/v1_0/user/followings",params:{page:1,per_page:200}})}},3561:function(t,n,r){"use strict";function e(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function o(t){if(Array.isArray(t))return e(t)}r.d(n,{Z:function(){return i}});r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(1038);function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r(7042),r(8309),r(4916),r(7601);function u(t,n){if(t){if("string"===typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}r(1703);function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return o(t)||a(t)||u(t)||s()}}}]);